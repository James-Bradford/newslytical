"use strict";var express=require("express"),app=express(),cors=require("cors"),Twitter=require("twitter"),kahaki=require("kahaki"),googleTrends=require("google-trends-api"),axios=require("axios");require("dotenv").config(),app.use(cors());var client=new Twitter({consumer_key:process.env.TWITTER_CONSUMER_KEY,consumer_secret:process.env.TWITTER_CONSUMER_SECRET,access_token_key:process.env.TWITTER_ACCESS_TOKEN_KEY,access_token_secret:process.env.TWITTER_ACCESS_TOKEN_SECRET});app.get("/api/twitter/tweet/:id",function(e,n){client.get("statuses/show",{id:e.params.id,tweet_mode:"extended"},function(e,r,t){n.send(r)})}),app.get("/api/whois/:domain",function(e,r){axios.get("https://www.whoisxmlapi.com/whoisserver/WhoisService?apiKey=".concat(process.env.WHOIS_API_KEY,"&outputFormat=JSON&domainName=").concat(e.params.domain)).then(function(e){r.send(e.data)}).catch(function(e){return console.log(e)})}),app.get("/api/trends/related/:word",function(e,r){googleTrends.relatedTopics({keyword:e.params.word}).then(function(e){r.send(e)}).catch(function(e){console.error("Oh no there was an error",e)})}),app.get("/api/metadata/",function(r,t){var n;regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(kahaki.getPreview(r.query.url,{subObject:!0}));case 2:n=e.sent,t.send(n);case 4:case"end":return e.stop()}})});var port=process.env.PORT||3e3;app.listen(port,function(){return console.log("Listening on port ".concat(port,"..."))});
//# sourceMappingURL=index.min.js.map
