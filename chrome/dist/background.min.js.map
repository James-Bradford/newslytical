{"version":3,"sources":["background.js"],"names":["active","chrome","activeTab","tabs","currentWindow","url","test","browserAction","setBadgeText","text","myRegexp","match","tweetID","postMessage","onConnect","addListener","port","greeting","id","onUpdated","changeInfo","tab","isTweet","onActiveChanged","tabId"],"mappings":"aA2CwBA,SAAAA,UAChBC,OAAIC,KAAAA,MAAYC,CAAIH,QAApB,EAAAI,eAAA,GAAA,SAAAD,GACG,IAAGD,EAANC,EAAA,GAAAE,IAAMH,EAAUG,IAI4B,sDAAEC,KAAAD,MAA1CJ,OAAAM,cAAAC,aAAA,CAAAC,KAAA,MACAC,SAAW,wDACNC,MAAGD,SAAcL,KAAtBA,KACAO,QAAgBD,MAAhB,GAGQV,OAACY,QAAYC,UAAAC,YAAA,SAAAC,GAAEC,EAAUJ,YAAZ,CAAAI,SAAA,QAAAC,GAAAN,cAGlBX,OAAAM,cAAAC,aAAA,CAAAC,KAAA,KACGR,OAACM,QAAcC,UAAAA,YAAa,SAAAQ,GAAQA,EAAAH,YAAA,CAAAI,SAAA,YAlDtDhB,OAAOE,KAAKgB,UAAUJ,YAUd,SAAIK,EAAJA,EAAoBC,GAASD,EAAAf,KAAAiB,YAMjCrB,OAAAE,KAAAoB,gBAAAR,YAFJ,SAAAS,EAAAJ,EAAAC,GAcAC","file":"background.min.js","sourcesContent":["/**\n * Summary. Background Functions\n * Description. Provides the background functions for the Chrome Extension\n * \n * @author James Bradford\n * @version 1.0\n */\n\n\nchrome.tabs.onUpdated.addListener(\n\n    /**\n     * If the tab has changed, perform isTweet()\n     * \n     * @param {*} tabId ID of Current Tab\n     * @param {*} changeInfo Info from Changed Tab\n     * @param {*} tab Specific Tab\n     */\n    function (tabId, changeInfo, tab) {\n        if (changeInfo.url) { isTweet() }\n    });\n\n\nchrome.tabs.onActiveChanged.addListener(\n\n    /**\n     * If the tab has changed, perform isTweet()\n     * \n     * @param {*} tabId ID of Current Tab\n     * @param {*} changeInfo Info from Changed Tab\n     * @param {*} tab Specific Tab\n     */\n    function (tabId, changeInfo, tab) {\n        isTweet()\n    });\n\n\n/**\n * If current tab contains a tweet, pass message to popup.js\n */\nfunction isTweet() {\n\n    //Get Active Tab URL\n    chrome.tabs.query({ active: true, currentWindow: true }, function (tabs) {\n        var activeTab = tabs[0];\n        url = activeTab.url;\n\n\n        if (/^(https|http)?:?\\/?\\/?twitter.com\\/.*\\/status\\/\\d*$/.test(url)) {\n            chrome.browserAction.setBadgeText({ text: \"1\" });\n            myRegexp = /^(https|http)?:?\\/?\\/?twitter.com\\/.*\\/status\\/(\\d*)$/;\n            match = myRegexp.exec(url);\n            tweetID = (match[2]);\n\n            chrome.runtime.onConnect.addListener(function (port) {\n                port.postMessage({ greeting: \"tweet\", id: tweetID });\n            });\n\n        } else {\n            chrome.browserAction.setBadgeText({ text: \"\" });\n            chrome.runtime.onConnect.addListener(function (port) {\n                port.postMessage({ greeting: \"no\" });\n            });\n        }\n    });\n\n\n}\n"]}