{"remainingRequest":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/babel-loader/lib/index.js!/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/src/components/LinkWhois.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/src/components/LinkWhois.vue","mtime":1594460505045},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IEFwaSBmcm9tICIuLi9zZXJ2aWNlcy9BcGkiOwoKdmFyIHBzbCA9IHJlcXVpcmUoInBzbCIpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaW5rV2hvaXMiLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGFuZWw6IFswXQogICAgfTsKICB9LAoKICBwcm9wczogewogICAgdXJsczogW10sCiAgICB3aG9pczogW10KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0d2VldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnR3ZWV0OwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsKICAgIGV4dHJhY3RIb3N0bmFtZSh1cmwpIHsKICAgICAgdmFyIGhvc3RuYW1lOyAvL2ZpbmQgJiByZW1vdmUgcHJvdG9jb2wgKGh0dHAsIGZ0cCwgZXRjLikgYW5kIGdldCBob3N0bmFtZQoKICAgICAgaWYgKHVybC5pbmRleE9mKCIvLyIpID4gLTEpIHsKICAgICAgICBob3N0bmFtZSA9IHVybC5zcGxpdCgiLyIpWzJdOwogICAgICB9IGVsc2UgewogICAgICAgIGhvc3RuYW1lID0gdXJsLnNwbGl0KCIvIilbMF07CiAgICAgIH0gLy9maW5kICYgcmVtb3ZlIHBvcnQgbnVtYmVyCgoKICAgICAgaG9zdG5hbWUgPSBob3N0bmFtZS5zcGxpdCgiOiIpWzBdOyAvL2ZpbmQgJiByZW1vdmUgIj8iCgogICAgICBob3N0bmFtZSA9IGhvc3RuYW1lLnNwbGl0KCI/IilbMF07CiAgICAgIHJldHVybiBob3N0bmFtZTsKICAgIH0sCgogICAgaXNIVFRQUyh1cmwpIHsKICAgICAgaWYgKHVybC5tYXRjaCgvXlteOl0rLykgPT0gImh0dHBzIikgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgdmFyIHVybHMgPSB0aGlzLnR3ZWV0LmVudGl0aWVzLnVybHM7CiAgICB2YXIgd2hvaXMgPSBbXTsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciB1cmw7IC8vUGVyZm9ybXMgd2hvaXMgb24gZWFjaCBob3N0bmFtZSBpbiBUd2VldAoKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdXJscy5sZW5ndGg7IGkrKykgewogICAgICAvL0V4dHJhY3QgaG9zdG5hbWUKICAgICAgdXJsID0gcHNsLmdldCh0aGlzLmV4dHJhY3RIb3N0bmFtZSh1cmxzW2ldLmV4cGFuZGVkX3VybCkpOyAvL01ha2UgQVBJIGNhbGwKCiAgICAgIEFwaS5nZXQoYHdob2lzLyR7dXJsfWApLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIC8vQWRkIHJlc3VsdCB0byBhcnJheQogICAgICAgIHdob2lzLnB1c2gocmVzdWx0LmRhdGEpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJBUEkgRVJST1IiKTsKICAgICAgfSk7IC8vQXNzaWduIGxvY2FsIHZhcmlhYmxlCgogICAgICB0aGlzLndob2lzID0gd2hvaXM7CiAgICB9CgogICAgY29uc29sZS5sb2codGhpcy53aG9pcyk7CiAgfQoKfTs="},{"version":3,"sources":["LinkWhois.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,GAAA,MAAA,iBAAA;;AACA,IAAA,GAAA,GAAA,OAAA,CAAA,KAAA,CAAA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;;AAEA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,CAAA,CAAA;AADA,KAAA;AAGA,GANA;;AAOA,EAAA,KAAA,EAAA;AACA,IAAA,IAAA,EAAA,EADA;AAEA,IAAA,KAAA,EAAA;AAFA,GAPA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,KAAA,GAAA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAAA;AACA;;AAHA,GAXA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,eAAA,CAAA,GAAA,EAAA;AACA,UAAA,QAAA,CADA,CAEA;;AAEA,UAAA,GAAA,CAAA,OAAA,CAAA,IAAA,IAAA,CAAA,CAAA,EAAA;AACA,QAAA,QAAA,GAAA,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA,GAAA,GAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AACA,OARA,CAUA;;;AACA,MAAA,QAAA,GAAA,QAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA,CAXA,CAYA;;AACA,MAAA,QAAA,GAAA,QAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA;AAEA,aAAA,QAAA;AACA,KAjBA;;AAkBA,IAAA,OAAA,CAAA,GAAA,EAAA;AACA,UAAA,GAAA,CAAA,KAAA,CAAA,QAAA,KAAA,OAAA,EAAA;AACA,eAAA,IAAA;AACA,OAFA,MAEA;AAAA,eAAA,KAAA;AAAA;AACA;;AAtBA,GAhBA;;AAyCA,EAAA,OAAA,GAAA;AACA,QAAA,IAAA,GAAA,KAAA,KAAA,CAAA,QAAA,CAAA,IAAA;AACA,QAAA,KAAA,GAAA,EAAA;AACA,QAAA,IAAA,GAAA,IAAA;AACA,QAAA,GAAA,CAJA,CAMA;;AACA,SAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AAEA;AACA,MAAA,GAAA,GAAA,GAAA,CAAA,GAAA,CAAA,KAAA,eAAA,CAAA,IAAA,CAAA,CAAA,CAAA,CAAA,YAAA,CAAA,CAAA,CAHA,CAKA;;AACA,MAAA,GAAA,CAAA,GAAA,CAAA,SAAA,GAAA,EAAA,EACA,IADA,CACA,UAAA,MAAA,EAAA;AAEA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,IAAA;AACA,OALA,EAMA,KANA,CAMA,KAAA,IAAA;AACA,cAAA,IAAA,KAAA,CAAA,WAAA,CAAA;AACA,OARA,EANA,CAgBA;;AACA,WAAA,KAAA,GAAA,KAAA;AACA;;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA;AACA;;AApEA,CAAA","sourcesContent":["<template lang=\"pug\">\n    v-card.pa-2.elevation-4(color=\"warning\")\n      v-card-title.pa-2.white--text.text-h4\n        v-icon.mdi.mdi-link(color='white' x-large)\n        | Whois Data\n      v-card-text\n        v-divider.ma-2(color=\"white\")\n      v-expansion-panels(v-model=\"this.panel\" v-if=\"this.tweet.entities.urls.length > 0\")\n        v-expansion-panel(v-for='(url, u) in this.tweet.entities.urls')\n          v-expansion-panel-header {{ whois[u].WhoisRecord.domainName }}\n          v-expansion-panel-content \n              div(v-if='isHTTPS(url.expanded_url)') \n                v-icon.mdi.mdi-lock-check(color=\"success\")\n                | This website uses HTTPS encryption\n              div(v-else) \n                v-icon.mdi.mdi-lock-open-alert(color=\"warning\")\n                | This website does not use HTTPS encryption\n              div(v-if='whois[u].WhoisRecord.registrant !== undefined') \n                v-icon.mdi.mdi-earth\n                | Registered in: {{ whois[u].WhoisRecord.registrant.country }}\n                br\n                v-icon.mdi.mdi-account\n                | Registrant: {{ whois[u].WhoisRecord.registrant.organization }}\n              div(v-else)\n                v-icon.mdi.mdi-earth-off\n                | No location found for this domain\n                br\n                v-icon.mdi.mdi-account-off\n                | No registrant information for this domain\n              div(v-if='whois[u].WhoisRecord.registryData.createdDate !== undefined')\n                v-icon.mdi.mdi-clock\n                | Created: {{ whois[u].WhoisRecord.registryData.createdDate }}\n      div.pa-2.white--text.text-justify(v-else) We haven't detected any links in this Tweet.  If we've got it wrong and there are links, please think carefully before clicking them and use your own discretion.\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Api from \"../services/Api\";\nvar psl = require(\"psl\");\n\nexport default {\n  name: \"LinkWhois\",\n  data() {\n    return {\n      panel: [0]\n    }\n  },\n  props: {\n    urls: [],\n    whois: []\n  },\n  computed: {\n    tweet() {\n      return this.$store.state.tweet;\n    }\n  },\n  methods: {\n    extractHostname(url) {\n      var hostname;\n      //find & remove protocol (http, ftp, etc.) and get hostname\n\n      if (url.indexOf(\"//\") > -1) {\n        hostname = url.split(\"/\")[2];\n      } else {\n        hostname = url.split(\"/\")[0];\n      }\n\n      //find & remove port number\n      hostname = hostname.split(\":\")[0];\n      //find & remove \"?\"\n      hostname = hostname.split(\"?\")[0];\n\n      return hostname;\n    },\n    isHTTPS(url) {\n      if (url.match(/^[^:]+/) == \"https\") {\n        return true\n      } else { return false }\n    }\n  },\n\n  created() {\n    var urls = this.tweet.entities.urls;\n    var whois = [];\n    var self = this;\n    var url;\n\n    //Performs whois on each hostname in Tweet\n    for (let i = 0; i < urls.length; i++) {\n\n      //Extract hostname\n      url = psl.get(this.extractHostname(urls[i].expanded_url));\n\n      //Make API call\n      Api.get(`whois/${url}`)\n        .then(function(result) {\n\n          //Add result to array\n          whois.push(result.data);\n        })\n        .catch(error => {\n          throw new Error(\"API ERROR\");\n        });\n\n      //Assign local variable\n      this.whois = whois;\n    }\n    console.log(this.whois);\n  }\n};\n</script>\n\n<style>\n</style>"],"sourceRoot":"src/components"}]}