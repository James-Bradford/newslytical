{"remainingRequest":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/src/components/LinkWhois.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/src/components/LinkWhois.vue","mtime":1594383847600},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jamesbradford/Documents/Dissertation Repository/Repos/Combined/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBBcGkgZnJvbSAiLi4vc2VydmljZXMvQXBpIjsKdmFyIHBzbCA9IHJlcXVpcmUoInBzbCIpOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMaW5rV2hvaXMiLAogIHByb3BzOiB7CiAgICB1cmxzOiBbXSwKICAgIHdob2lzOiBbXQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHR3ZWV0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudHdlZXQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBleHRyYWN0SG9zdG5hbWUodXJsKSB7CiAgICAgIHZhciBob3N0bmFtZTsKICAgICAgLy9maW5kICYgcmVtb3ZlIHByb3RvY29sIChodHRwLCBmdHAsIGV0Yy4pIGFuZCBnZXQgaG9zdG5hbWUKCiAgICAgIGlmICh1cmwuaW5kZXhPZigiLy8iKSA+IC0xKSB7CiAgICAgICAgaG9zdG5hbWUgPSB1cmwuc3BsaXQoIi8iKVsyXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBob3N0bmFtZSA9IHVybC5zcGxpdCgiLyIpWzBdOwogICAgICB9CgogICAgICAvL2ZpbmQgJiByZW1vdmUgcG9ydCBudW1iZXIKICAgICAgaG9zdG5hbWUgPSBob3N0bmFtZS5zcGxpdCgiOiIpWzBdOwogICAgICAvL2ZpbmQgJiByZW1vdmUgIj8iCiAgICAgIGhvc3RuYW1lID0gaG9zdG5hbWUuc3BsaXQoIj8iKVswXTsKCiAgICAgIHJldHVybiBob3N0bmFtZTsKICAgIH0sCiAgICBpc0hUVFBTKHVybCkgewogICAgICBpZiAodXJsLm1hdGNoKC9eW146XSsvKSA9PSAiaHR0cHMiKSB7CiAgICAgICAgcmV0dXJuIHRydWUKICAgICAgfSBlbHNlIHsgcmV0dXJuIGZhbHNlIH0KICAgIH0KICB9LAoKICBjcmVhdGVkKCkgewogICAgdmFyIHVybHMgPSB0aGlzLnR3ZWV0LmVudGl0aWVzLnVybHM7CiAgICB2YXIgd2hvaXMgPSBbXTsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciB1cmw7CgogICAgLy9QZXJmb3JtcyB3aG9pcyBvbiBlYWNoIGhvc3RuYW1lIGluIFR3ZWV0CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVybHMubGVuZ3RoOyBpKyspIHsKCiAgICAgIC8vRXh0cmFjdCBob3N0bmFtZQogICAgICB1cmwgPSBwc2wuZ2V0KHRoaXMuZXh0cmFjdEhvc3RuYW1lKHVybHNbaV0uZXhwYW5kZWRfdXJsKSk7CgogICAgICAvL01ha2UgQVBJIGNhbGwKICAgICAgQXBpLmdldChgd2hvaXMvJHt1cmx9YCkKICAgICAgICAudGhlbihmdW5jdGlvbihyZXN1bHQpIHsKCiAgICAgICAgICAvL0FkZCByZXN1bHQgdG8gYXJyYXkKICAgICAgICAgIHdob2lzLnB1c2gocmVzdWx0LmRhdGEpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiQVBJIEVSUk9SIik7CiAgICAgICAgfSk7CgogICAgICAvL0Fzc2lnbiBsb2NhbCB2YXJpYWJsZQogICAgICB0aGlzLndob2lzID0gd2hvaXM7CiAgICB9CiAgICBjb25zb2xlLmxvZyh0aGlzLndob2lzKTsKICB9Cn07Cg=="},{"version":3,"sources":["LinkWhois.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"LinkWhois.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"pug\">\n    v-card.py-2(color=\"warning\")\n      v-card-title.white--text\n        v-icon.mdi.mdi-link(color=\"white\")\n        | Whois Data\n      v-expansion-panels(popout)\n        v-expansion-panel(v-for='(url, u) in this.tweet.entities.urls' :key='u')\n          v-expansion-panel-header {{ url.expanded_url }}\n          v-expansion-panel-content \n              div(v-if='isHTTPS(url.expanded_url)') \n                v-icon.mdi.mdi-lock-check(color=\"success\")\n                | This website uses HTTPS encryption\n              div(v-else) \n                v-icon.mdi.mdi-lock-open-alert(color=\"warning\")\n                | This website does not use HTTPS encryption\n              div(v-if='whois[u].WhoisRecord.registrant !== undefined') \n                v-icon.mdi.mdi-earth\n                | Registered in: {{ whois[u].WhoisRecord.registrant.country }}\n                br\n                v-icon.mdi.mdi-account\n                | Registrant: {{ whois[u].WhoisRecord.registrant.organization }}\n              div(v-else)\n                v-icon.mdi.mdi-earth-off\n                | No location found for this domain\n                br\n                v-icon.mdi.mdi-account-off\n                | No registrant information for this domain\n              div(v-if='whois[u].WhoisRecord.registryData.createdDate !== undefined')\n                v-icon.mdi.mdi-clock\n                | Created: {{ whois[u].WhoisRecord.registryData.createdDate }}\n              \n             \n</template>\n\n<script>\nimport axios from \"axios\";\nimport Api from \"../services/Api\";\nvar psl = require(\"psl\");\n\nexport default {\n  name: \"LinkWhois\",\n  props: {\n    urls: [],\n    whois: []\n  },\n  computed: {\n    tweet() {\n      return this.$store.state.tweet;\n    }\n  },\n  methods: {\n    extractHostname(url) {\n      var hostname;\n      //find & remove protocol (http, ftp, etc.) and get hostname\n\n      if (url.indexOf(\"//\") > -1) {\n        hostname = url.split(\"/\")[2];\n      } else {\n        hostname = url.split(\"/\")[0];\n      }\n\n      //find & remove port number\n      hostname = hostname.split(\":\")[0];\n      //find & remove \"?\"\n      hostname = hostname.split(\"?\")[0];\n\n      return hostname;\n    },\n    isHTTPS(url) {\n      if (url.match(/^[^:]+/) == \"https\") {\n        return true\n      } else { return false }\n    }\n  },\n\n  created() {\n    var urls = this.tweet.entities.urls;\n    var whois = [];\n    var self = this;\n    var url;\n\n    //Performs whois on each hostname in Tweet\n    for (let i = 0; i < urls.length; i++) {\n\n      //Extract hostname\n      url = psl.get(this.extractHostname(urls[i].expanded_url));\n\n      //Make API call\n      Api.get(`whois/${url}`)\n        .then(function(result) {\n\n          //Add result to array\n          whois.push(result.data);\n        })\n        .catch(error => {\n          throw new Error(\"API ERROR\");\n        });\n\n      //Assign local variable\n      this.whois = whois;\n    }\n    console.log(this.whois);\n  }\n};\n</script>\n\n<style>\n</style>"]}]}